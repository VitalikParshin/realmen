(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{56:function(t,e,o){t.exports=o.p+"static/media/logo.5d5d9eef.svg"},73:function(t,e,o){t.exports=o(95)},78:function(t,e,o){},80:function(t,e,o){},95:function(t,e,o){"use strict";o.r(e);var n=o(1),a=o.n(n),r=o(16),i=o.n(r),l=(o(78),o(20)),s=o(17),c=o(22),u=o(21),h=o(23),d=o(56),f=o.n(d),m=(o(80),function(t){for(var e=t.length,o=t[0].length,n=[],a=0;a<e;++a){n.push([]);for(var r=0;r<o;++r)n[a][r]=t[r][o-a-1]}return n}),p=function t(e,o,n){this.value=e||0,this.row=o||-1,this.column=n||-1,this.oldRow=-1,this.oldColumn=-1,this.markForDeletion=!1,this.mergedInto=null,this.id=t.id++};p.id=0,p.prototype.moveTo=function(t,e){this.oldRow=this.row,this.oldColumn=this.column,this.row=t,this.column=e},p.prototype.isNew=function(){return-1===this.oldRow&&!this.mergedInto},p.prototype.hasMoved=function(){return-1!==this.fromRow()&&(this.fromRow()!==this.toRow()||this.fromColumn()!==this.toColumn())||this.mergedInto},p.prototype.fromRow=function(){return this.mergedInto?this.row:this.oldRow},p.prototype.fromColumn=function(){return this.mergedInto?this.column:this.oldColumn},p.prototype.toRow=function(){return this.mergedInto?this.mergedInto.row:this.row},p.prototype.toColumn=function(){return this.mergedInto?this.mergedInto.column:this.column};var g=function t(){this.tiles=[],this.cells=[];for(var e=0;e<t.size;++e)this.cells[e]=[this.addTile(),this.addTile(),this.addTile(),this.addTile()];this.addRandomTile(),this.setPositions(),this.won=!1};g.prototype.addTile=function(){for(var t=new p,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return p.apply(t,o),this.tiles.push(t),t},g.size=4,g.prototype.moveLeft=function(){for(var t=!1,e=0;e<g.size;++e){for(var o=this.cells[e].filter(function(t){return 0!==t.value}),n=[],a=0;a<g.size;++a){var r=o.length?o.shift():this.addTile();if(o.length>0&&o[0].value===r.value){var i=r;r=this.addTile(r.value),i.mergedInto=r;var l=o.shift();l.mergedInto=r,r.value+=l.value}n[a]=r,this.won=this.won||2048===r.value,t=t||r.value!==this.cells[e][a].value}this.cells[e]=n}return t},g.prototype.setPositions=function(){this.cells.forEach(function(t,e){t.forEach(function(t,o){t.oldRow=t.row,t.oldColumn=t.column,t.row=e,t.column=o,t.markForDeletion=!1})})},g.fourProbability=.1,g.prototype.addRandomTile=function(){for(var t=[],e=0;e<g.size;++e)for(var o=0;o<g.size;++o)0===this.cells[e][o].value&&t.push({r:e,c:o});var n=t[Math.floor(Math.random()*t.length)],a=Math.random()<g.fourProbability?4:2;this.cells[n.r][n.c]=this.addTile(a)},g.prototype.move=function(t){this.clearOldTiles();for(var e=0;e<t;++e)this.cells=m(this.cells);for(var o=this.moveLeft(),n=t;n<4;++n)this.cells=m(this.cells);return o&&this.addRandomTile(),this.setPositions(),this},g.prototype.clearOldTiles=function(){this.tiles=this.tiles.filter(function(t){return!1===t.markForDeletion}),this.tiles.forEach(function(t){t.markForDeletion=!0})},g.prototype.hasWon=function(){return this.won},g.deltaX=[-1,0,1,0],g.deltaY=[0,-1,0,1],g.prototype.hasLost=function(){for(var t=!1,e=0;e<g.size;++e)for(var o=0;o<g.size;++o){t=t||0===this.cells[e][o].value;for(var n=0;n<4;++n){var a=e+g.deltaX[n],r=o+g.deltaY[n];a<0||a>=g.size||r<0||r>=g.size||(t=t||this.cells[e][o].value===this.cells[a][r].value)}}return!t};var b=g,v=o(10),y=o(102),w=o(93),E=o(103),C=o(5),k=o(104),O=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement(v.a,{style:I.cell})}}]),e}(a.a.Component),j=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement(v.a,{style:I.board},a.a.createElement(v.a,{style:I.row},a.a.createElement(O,null),a.a.createElement(O,null),a.a.createElement(O,null),a.a.createElement(O,null)),a.a.createElement(v.a,{style:I.row},a.a.createElement(O,null),a.a.createElement(O,null),a.a.createElement(O,null),a.a.createElement(O,null)),a.a.createElement(v.a,{style:I.row},a.a.createElement(O,null),a.a.createElement(O,null),a.a.createElement(O,null),a.a.createElement(O,null)),a.a.createElement(v.a,{style:I.row},a.a.createElement(O,null),a.a.createElement(O,null),a.a.createElement(O,null),a.a.createElement(O,null)),this.props.children)}}]),e}(a.a.Component),R=function(t){function e(t){var o;Object(l.a)(this,e);var n=(o=Object(c.a)(this,Object(u.a)(e).call(this,t))).props.tile;return o.state={opacity:new y.a.Value(0),top:new y.a.Value(e._getPosition(n.toRow())),left:new y.a.Value(e._getPosition(n.toColumn()))},o}return Object(h.a)(e,t),Object(s.a)(e,null,[{key:"_getPosition",value:function(t){return 68*t+4+3}}]),Object(s.a)(e,[{key:"calculateOffset",value:function(){var t=this.props.tile,o={top:this.state.top,left:this.state.left,opacity:this.state.opacity};return t.isNew()?y.a.timing(this.state.opacity,{duration:100,toValue:1}).start():y.a.parallel([y.a.timing(o.top,{duration:100,toValue:e._getPosition(t.toRow())}),y.a.timing(o.left,{duration:100,toValue:e._getPosition(t.toColumn())})]).start(),o}},{key:"render",value:function(){var t=this.props.tile,e=[I.tile,I["tile"+t.value],this.calculateOffset()],o=[I.value,t.value>4&&I.whiteText,t.value>100&&I.threeDigits,t.value>1e3&&I.fourDigits];return a.a.createElement(y.a.View,{style:e},a.a.createElement(w.a,{style:o},t.value))}}]),e}(a.a.Component),T=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.props.board;if(!t.hasWon()&&!t.hasLost())return a.a.createElement(v.a,null);var e=t.hasWon()?"Good Job!":"Game Over";return a.a.createElement(v.a,{style:I.overlay},a.a.createElement(w.a,{style:I.overlayMessage},e),a.a.createElement(E.a,{onPress:this.props.onRestart,style:I.tryAgain},a.a.createElement(w.a,{style:I.tryAgainText},"Try Again?")))}}]),e}(a.a.Component),z=function(t){function e(t){var o;return Object(l.a)(this,e),(o=Object(c.a)(this,Object(u.a)(e).call(this,t)))._handleRestart=function(){o.setState({board:new b})},o._handleStart=function(t){o.state.board.hasWon()||(o.startX=t.nativeEvent.pageX,o.startY=t.nativeEvent.pageY)},o._handleEnd=function(t){if(!o.state.board.hasWon()){var e=t.nativeEvent.pageX-o.startX,n=t.nativeEvent.pageY-o.startY,a=-1;Math.abs(e)>3*Math.abs(n)&&Math.abs(e)>30?a=e>0?2:0:Math.abs(n)>3*Math.abs(e)&&Math.abs(n)>30&&(a=n>0?3:1),-1!==a&&o.setState({board:o.state.board.move(a)})}},o.state={board:new b},o.startX=0,o.startY=0,o}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.state.board.tiles.filter(function(t){return t.value}).map(function(t){return a.a.createElement(R,{key:t.id,ref:t.id,tile:t})});return a.a.createElement(v.a,{onMouseDown:this._handleStart,onMouseUp:this._handleEnd,onTouchEnd:this._handleEnd,onTouchStart:this._handleStart,style:I.container},a.a.createElement(j,null,t),a.a.createElement(T,{board:this.state.board,onRestart:this._handleRestart}))}}]),e}(a.a.Component),I=C.a.create({container:{flex:1,justifyContent:"center",alignItems:"center"},board:{padding:3,backgroundColor:"#bbaaaa",borderRadius:5},overlay:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(221, 221, 221, 0.5)",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center"},overlayMessage:{fontSize:40,marginBottom:20},tryAgain:{backgroundColor:"#887761",padding:20,borderRadius:5},tryAgainText:{color:"#ffffff",fontSize:20,fontWeight:"500"},cell:{width:60,height:60,borderRadius:5,backgroundColor:"#ddccbb",margin:4},row:{flexDirection:"row"},tile:{position:"absolute",width:60,height:60,backgroundColor:"#ddccbb",borderRadius:5,flex:1,justifyContent:"center",alignItems:"center"},value:{fontSize:24,color:"#776666",fontFamily:"Verdana",fontWeight:"500"},tile2:{backgroundColor:"#eeeeee"},tile4:{backgroundColor:"#eeeecc"},tile8:{backgroundColor:"#ffbb87"},tile16:{backgroundColor:"#ff9966"},tile32:{backgroundColor:"#ff7755"},tile64:{backgroundColor:"#ff5533"},tile128:{backgroundColor:"#eecc77"},tile256:{backgroundColor:"#eecc66"},tile512:{backgroundColor:"#eecc55"},tile1024:{backgroundColor:"#eecc33"},tile2048:{backgroundColor:"#eecc22"},whiteText:{color:"#ffffff"},threeDigits:{fontSize:20},fourDigits:{fontSize:18}});k.a.registerComponent("Game2048",function(){return z});var M=z,S=o(92),_=o(94),x=S.a.get("window").height,P=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return console.log("height",x),a.a.createElement(_.a,{scrollEnabled:!1,style:{backgroundColor:"#282c34",height:x},contentContainerStyle:{justifyContent:"space-between",alignItems:"center"}},a.a.createElement(w.a,{style:D.prodName},"\xa9 Copyright by Vitalii Parshin"),a.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),a.a.createElement(M,null),a.a.createElement(w.a,{style:D.title},"Game 2048 for Real-men"))}}]),e}(n.Component),D={title:{fontFamily:"Chalkduster",fontSize:25,marginLeft:5,marginRight:5,marginTop:20,color:"white",textAlign:"center"},prodName:{fontFamily:"Chalkduster",fontSize:14,marginTop:20,color:"white"}},V=P;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[73,2,1]]]);
//# sourceMappingURL=main.a447f60b.chunk.js.map